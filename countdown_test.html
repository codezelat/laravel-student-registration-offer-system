<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown Test</title>
</head>
<body>
    <h1>Countdown Test</h1>
    <div id="countdown" data-deadline="2025-11-26 23:59:59">
        <span id="days">00</span>d
        <span id="hours">00</span>h
        <span id="minutes">00</span>m
        <span id="seconds">00</span>s
    </div>

    <script>
        // Countdown Timer
        function updateCountdown() {
            const deadlineElement = document.getElementById('countdown');
            const deadlineStr = deadlineElement.getAttribute('data-deadline');

            // Parse deadline as IST (UTC+5:30)
            // Format: "2025-11-26 23:59:59" -> "2025-11-26T23:59:59+05:30"
            const istDeadlineStr = deadlineStr.replace(' ', 'T') + '+05:30';
            const deadline = new Date(istDeadlineStr);

            // Get current time in IST
            const now = new Date();
            const istOffset = 5.5 * 60 * 60 * 1000; // IST is UTC+5:30
            const nowIST = new Date(now.getTime() + istOffset);

            const timeDiff = deadline - nowIST;

            console.log('Deadline:', deadline);
            console.log('Now (UTC):', now);
            console.log('Now (IST):', nowIST);
            console.log('Time diff:', timeDiff);

            if (timeDiff <= 0) {
                document.getElementById('days').textContent = '00';
                document.getElementById('hours').textContent = '00';
                document.getElementById('minutes').textContent = '00';
                document.getElementById('seconds').textContent = '00';
                return;
            }

            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
        }

        // Update countdown every second
        updateCountdown();
        setInterval(updateCountdown, 1000);
    </script>
</body>
</html>